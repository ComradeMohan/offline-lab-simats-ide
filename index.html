<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Offline Lab SIMATS</title>
    <link rel="stylesheet" href="styles.css">
    <!-- Google Fonts for better typography -->
    <link
        href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&family=JetBrains+Mono:wght@400&display=swap"
        rel="stylesheet">
</head>

<body>
    <!-- Custom Title Bar -->
    <div id="title-bar">
        <div id="title-drag-area">
            <img src="logo.png" alt="Icon" id="app-icon">
            <span id="app-title">SIMATS Lab IDE</span>
        </div>
        <div id="window-controls">
            <button id="min-btn" class="control-btn" title="Minimize">â”€</button>
            <button id="max-btn" class="control-btn" title="Maximize">â—»</button>
            <button id="close-btn" class="control-btn" title="Close">âœ•</button>
        </div>
    </div>

    <div id="toolbar">
        <div class="toolbar-left">
            <div class="logo-text">SIMATS Lab IDE</div>

            <!-- File Menu -->
            <div class="menu-item" id="file-menu-trigger">
                File
                <div class="menu-dropdown" id="file-menu">
                    <div class="menu-option" id="new-file-btn">New File</div>
                    <div class="menu-option" id="open-folder-btn">Open Folder</div>
                    <div class="divider"></div>
                    <div class="menu-option" id="save-btn">Save</div>
                    <div class="menu-option" id="save-as-btn">Save As</div>
                </div>
            </div>

            <!-- Settings Menu -->
            <div class="menu-item" id="settings-menu-trigger">
                Settings
                <div class="menu-dropdown" id="settings-menu">
                    <div class="menu-option" id="about-dev-btn">About Developer</div>
                    <div class="menu-option" id="docs-btn">Documentation</div>
                </div>
            </div>
        </div>

        <div class="toolbar-center">
            <!-- Custom Dropdown -->
            <div class="custom-dropdown" id="lang-dropdown">
                <div class="dropdown-trigger" id="dropdown-trigger">
                    <span id="selected-lang-text">C</span>
                    <span class="arrow">â–¼</span>
                </div>
                <div class="dropdown-options" id="dropdown-options">
                    <div class="option" data-value="c">C</div>
                    <div class="option" data-value="cpp">C++</div>
                    <div class="option" data-value="java">Java</div>
                    <div class="option" data-value="python">Python</div>
                </div>
                <select id="language-select" style="display:none;">
                    <option value="c">C</option>
                    <option value="cpp">C++</option>
                    <option value="java">Java</option>
                    <option value="python">Python</option>
                </select>
            </div>

            <button id="run-btn" class="btn btn-run">
                <span>â–¶</span> Run Code
            </button>
        </div>

        <div class="toolbar-right">
            <div id="update-status"
                style="font-size: 0.8em; color: var(--accent-color); display: none; align-items: center; gap: 8px;">
                <span id="update-msg"> Checking for updates...</span>
                <div id="update-progress-container"
                    style="width: 60px; height: 4px; background: rgba(255,255,255,0.1); border-radius: 2px; display: none;">
                    <div id="update-progress-bar"
                        style="width: 0%; height: 100%; background: var(--accent-color); border-radius: 2px;"></div>
                </div>
            </div>
        </div>
    </div>

    <div id="app-container">
        <!-- Sidebar -->
        <div id="sidebar">
            <div class="sidebar-tabs">
                <div class="sidebar-tab active" id="tab-questions">Questions</div>
                <div class="sidebar-tab" id="tab-explorer">Explorer</div>
            </div>
            <div class="sidebar-header"
                style="display:flex; justify-content:space-between; align-items:center; padding: 10px 15px;">
                <div style="display:flex; align-items:center; gap:10px;">
                    <span id="sidebar-context-title">LAB QUESTIONS</span>
                    <div id="explorer-actions" style="display:none; gap:5px; align-items:center;">
                        <button id="sidebar-new-file-btn" class="icon-btn" title="New File">ðŸ“„<sup>+</sup></button>
                        <button id="sidebar-open-folder-btn" class="icon-btn"
                            title="Open Folder">ðŸ“‚<sup>+</sup></button>
                    </div>
                </div>
                <button id="toggle-sidebar-btn"
                    style="background:none; border:none; color:#ccc; cursor:pointer; font-size:1.2em;">Â«</button>
            </div>

            <!-- Questions List View -->
            <ul id="question-list"></ul>

            <!-- File Explorer View (Hidden by default) -->
            <div id="file-explorer" style="display:none;">
                <ul id="file-list"></ul>
            </div>
        </div>

        <!-- Resizer Column -->
        <div class="gutter gutter-col" id="resizer-col"></div>

        <!-- Main Content -->
        <div id="main-content">
            <!-- Question Description -->
            <div id="question-detail">
                <div style="display:flex; justify-content:space-between; align-items:flex-start;">
                    <div id="question-title">Select a question</div>
                    <div style="display:flex; gap:10px;">
                        <button id="save-progress-btn" class="btn"
                            style="background-color:#555; padding: 5px 12px; font-size:0.9em; color: white;">Save
                            Progress</button>
                        <button id="next-btn" class="btn"
                            style="background-color:var(--accent-color); padding: 5px 12px; font-size:0.9em; color: white;">Next
                            âž¡</button>
                    </div>
                </div>
                <div id="question-detail-meta" style="margin-bottom:10px; font-size:0.85em; color:#007acc;"></div>
                <div id="question-desc">Choose a language and select a question from the sidebar to start coding.</div>
            </div>

            <!-- Monaco Editor Container -->
            <div id="editor-wrapper">
                <div id="editor-container"></div>
            </div>

            <!-- Resizer Row -->
            <div class="gutter gutter-row" id="resizer-row"></div>

            <!-- Output Panel -->
            <div id="output-panel">
                <div class="panel-header">
                    <span>Terminal / Output</span>
                    <button id="clear-output" class="btn"
                        style="padding:4px 12px; font-size:0.75em; background:#444; color: white; min-height: unset;">Clear</button>
                </div>
                <div id="output-content"></div>
            </div>
        </div>
    </div>


    <!-- Script to load renderer -->
    <script src="renderer.js"></script>
</body>

</html>